(function ($) {

    $(document).ready(function () {

        $('.js-only').show();
        $('.no-js').hide();

        // Hide form on check status screen
        if ($(".dlslot-check-status-results").length) {
            $(".dlslot-scode-check-lottery-status .entry-header").css("display", "none");
            $(".dlslot-check-status-form").css("display", "none");
            $(".dlslot-check-status-form").css("display", "none");
            $(".dlslot-check-status-results").css("border-top", "none");
            $(".entry-content").css("min-height", "50px");
        }

        // Entry Lottery popup (only use popup in larger screens)
        if (parent.document.body.clientWidth >= 675) {
            $('.enter-lottery-link').fancybox({
                autoSize: false,
                autoHeight: false,
                fitToView: true,
                transitionIn: 'elastic',
                transitionOut: 'elastic',
                type: 'iframe',
                padding: 0,
                showCloseButton: true,
                beforeShow: function () {
                    this.width = $('.fancybox-iframe').contents().find('.enter-lottery').width() + 50;
                    this.height = $('.fancybox-iframe').contents().find('.enter-lottery').height() + 50;
                    $("body").css({'overflow-y': 'hidden'});
                },
                afterClose: function () {
                    $("body").css({'overflow-y': 'visible'});
                },
                helpers: {
                    overlay: {
                        locked: true
                    }
                }
            });
        }

        // DOB auto advance form field (only use popup in larger screens)
        if (parent.document.body.clientWidth >= 675) {
            $(".dlslot-field-dob INPUT").keyup(function () {
                if (!$(this).is(':last-child') && this.value.length == this.maxLength) {
                    var $next = $(this).next('INPUT');
                    if ($next.length) {
                        $(this).next('INPUT').focus();
                    } else {
                        $(this).blur();
                    }
                }
            });
        }

        // FAQ
        $('.accordion H4').click(function() {
            $(this).next().toggle('slow');
            if ($(this).hasClass('faq-active')) {
                $(this).removeClass('faq-active');
            } else {
                $(this).addClass('faq-active');
            }
            return false;
        }).next().hide();

        // FAQ
        $(".accordion-content").slideUp('fast');
        $('#accordion').find('.accordion-toggle').click(function () {
            //Expand or collapse this panel
            $(this).toggleClass("open").next().slideToggle('fast');
            //Hide the other panels
            $(".accordion-toggle").not($(this)).removeClass("open");
            $(".accordion-content").not($(this).next()).slideUp('fast');
        });
        $(".accordion2-content").slideUp('fast');
        $('#accordion2').find('.accordion2-toggle').click(function () {
            //Expand or collapse this panel
            $(this).toggleClass("open").next().slideToggle('fast');
            //Hide the other panels
            $(".accordion2-toggle").not($(this)).removeClass("open");
            $(".accordion2-content").not($(this).next()).slideUp('fast');
        });

    });

})(jQuery);